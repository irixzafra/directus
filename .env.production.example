# ============================================================
# Business OS - Production Environment Variables
# ============================================================
# Copiar a Railway Dashboard > Service > Variables
# ============================================================

# ===================
# DIRECTUS SERVICE
# ===================

# Security (REQUIRED - generate with: openssl rand -hex 32)
SECRET=your-random-secret-key-here

# Database (Supabase)
DB_CLIENT=pg
DB_CONNECTION_STRING=postgresql://postgres.PROJECT_REF:PASSWORD@aws-0-REGION.pooler.supabase.com:6543/postgres

# Admin User (first run only)
ADMIN_EMAIL=admin@yourcompany.com
ADMIN_PASSWORD=SecurePassword123!

# Public URL (Railway provides this)
PUBLIC_URL=https://your-directus.up.railway.app

# Cache (Redis)
CACHE_ENABLED=true
CACHE_STORE=redis
REDIS=${{Redis.REDIS_URL}}

# Rate Limiting
RATE_LIMITER_ENABLED=true
RATE_LIMITER_STORE=redis

# Email (optional)
# EMAIL_TRANSPORT=smtp
# EMAIL_FROM=noreply@yourcompany.com
# EMAIL_SMTP_HOST=smtp.sendgrid.net
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_USER=apikey
# EMAIL_SMTP_PASSWORD=your-sendgrid-key

# ===================
# N8N SERVICE
# ===================

# Database (same Supabase, different schema)
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=db.PROJECT_REF.supabase.co
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=postgres
DB_POSTGRESDB_SCHEMA=n8n
DB_POSTGRESDB_USER=postgres.PROJECT_REF
DB_POSTGRESDB_PASSWORD=your-db-password

# Queue Mode
EXECUTIONS_MODE=queue
QUEUE_BULL_REDIS_HOST=${{Redis.REDIS_PRIVATE_HOST}}
QUEUE_BULL_REDIS_PORT=6379

# Encryption (REQUIRED - must be same for main and worker)
N8N_ENCRYPTION_KEY=your-32-char-encryption-key-here

# Webhook URL
WEBHOOK_URL=https://your-n8n.up.railway.app

# Basic Auth (recommended)
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=SecurePassword123!

# ===================
# N8N WORKER SERVICE
# ===================
# Same as N8N but no webhook needed
# Uses same N8N_ENCRYPTION_KEY

# ===================
# FRONTEND SERVICE
# ===================

NEXT_PUBLIC_DIRECTUS_URL=https://your-directus.up.railway.app

# ===================
# REDIS SERVICE
# ===================
# Railway provides automatically:
# - REDIS_URL
# - REDIS_PRIVATE_HOST
# - REDIS_PORT
